<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-a6e161b2431e1f94a14e0f5d32135a3c.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.24">

  <meta name="author" content="Dr.&nbsp;Tobias Vlćek">
  <title>Management Science – Smart Quick Decisions</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-707dfb535249e6eca862c92c22a86177.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Smart Quick Decisions</h1>
  <p class="subtitle">Lecture 6 - Management Science</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Tobias Vlćek 
</div>
</div>
</div>

</section>
<section>
<section id="introduction" class="title-slide slide level1 title center">
<h1><span class="flow">Introduction</span></h1>

</section>
<section id="client-briefing-custom-cycles-manufacturing" class="slide level2" data-background-image="https://unsplash.com/photos/XwZKcZes8xo/download?ixid=M3wxMjA3fDB8MXxzZWFyY2h8Mnx8Y3VzdG9tJTIwY3ljbGVzfGVufDB8fHx8MTc2MjU5OTU4NXww&amp;force=true&amp;w=2400" data-background-size="cover">
<h2><strong><span class="invert-font">Client Briefing: Custom Cycles Manufacturing</span></strong></h2>
<div class="fragment">
<p><span class="invert-font">Operations Manager’s Friday Crisis:</span></p>
<p><span class="invert-font fragment">“It’s Friday at 06:00 in the morning. We just received <span class="highlight">16 custom bicycle orders</span> that must be completed by this evening. Two workstations. Rush orders with penalties. Overtime costs €100/hour after Friday 19:00. How do we schedule production to minimize costs?”</span></p>
</div>
</section>
<section id="the-manufacturing-challenge" class="slide level2">
<h2>The Manufacturing Challenge</h2>
<p><span class="highlight">Custom Cycles faces multiple scheduling decisions:</span></p>
<ul>
<li class="fragment"><strong>Order Sequencing:</strong> Which bike to build first?</li>
<li class="fragment"><strong>Workstation Management:</strong> Assembly must finish before painting</li>
<li class="fragment"><strong>Deadline Pressure:</strong> Rush orders have steep penalties (€150 each)</li>
<li class="fragment"><strong>Cost Control:</strong> Overtime at €100/hour after Saturday 8 PM</li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p><strong>The Stakes:</strong> With 16 orders totaling 13+ hours of work, wrong scheduling could mean <span class="highlight">€1000+ in overtime and penalties</span>!</p>
</div>
</div>
</div>
</div>
</section>
<section id="why-cant-we-just-try-everything" class="slide level2">
<h2>Why Can’t We Just Try Everything?</h2>
<p><span class="question">Question</span>: With 16 bicycle orders to sequence, how many possible schedules exist?</p>
<div class="fragment">
<p><strong>16! = 20,922,789,888,000 possible schedules</strong></p>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Number of Orders</strong></p>
<ul>
<li>5 bikes</li>
<li>10 bikes</li>
<li>16 bikes</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Possible Schedules</strong></p>
<ul>
<li>120</li>
<li>3.6 million</li>
<li>20.9 trillion</li>
</ul>
</div></div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Testing all 20.9 trillion possibilities for 16 bikes would take <span class="highlight">thousands of years</span> on a modern computer!</p>
</div>
</div>
</div>
</div>
</section>
<section id="can-you-spot-the-pattern" class="slide level2">
<h2>Can You Spot the Pattern?</h2>
<p><span class="highlight">Look at these 4 bicycle orders. Which should we build first?</span></p>
<div class="fragment">
<table class="caption-top">
<thead>
<tr class="header">
<th>Order</th>
<th>Arrival</th>
<th>Processing</th>
<th>Due</th>
<th>Penalty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>B12</td>
<td>1st</td>
<td>90 min</td>
<td>180 min</td>
<td>€150</td>
</tr>
<tr class="even">
<td>B08</td>
<td>2nd</td>
<td>45 min</td>
<td>280 min</td>
<td>€150</td>
</tr>
<tr class="odd">
<td>B15</td>
<td>3rd</td>
<td>75 min</td>
<td>220 min</td>
<td>€150</td>
</tr>
<tr class="even">
<td>B03</td>
<td>4th</td>
<td>30 min</td>
<td>300 min</td>
<td>€150</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p><span class="question">Question</span>: How would you proceed here?</p>
</div>
<div class="fragment">
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>This is the <strong>greedy choice problem</strong>: Which local decision leads to the best global outcome?</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="core-concepts" class="title-slide slide level1 title center">
<h1><span class="flow">Core Concepts</span></h1>

</section>
<section id="what-are-greedy-algorithms" class="slide level2">
<h2>What Are Greedy Algorithms?</h2>
<p><span class="highlight">Greedy algorithms make the locally optimal choice at each step.</span></p>
<div class="fragment">
<p><strong>The Idea:</strong> “Take what looks best right now, don’t look back”</p>
<ul>
<li class="fragment"><strong>Fast:</strong> O(n log n)<sup>1</sup> vs O(n!) for exhaustive search</li>
<li class="fragment"><strong>Simple:</strong> Easy to implement and explain</li>
<li class="fragment"><strong>Good Enough:</strong> Often near-optimal for many problems</li>
<li class="fragment"><strong>But:</strong> No guarantee of global optimality</li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Why n log n? Greedy algorithms typically: (1) Sort the jobs by some criterion = O(n log n), and (2) Process each job once = O(n). The sorting dominates, so overall O(n log n).</p></li></ol></aside></section>
<section id="the-greedy-paradigm" class="slide level2">
<h2>The Greedy Paradigm</h2>
<p><span class="highlight">Algorithmic strategy that builds solutions piece by piece</span></p>
<div class="fragment">
<p><strong>Core Philosophy:</strong></p>
<ul>
<li class="fragment">Make the <strong>best immediate decision</strong> at each step</li>
<li class="fragment">Never reconsider previous choices (no backtracking)</li>
<li class="fragment">Hope that local optimality leads to global optimality</li>
<li class="fragment">Trade guaranteed optimality for speed and simplicity</li>
</ul>
</div>
</section>
<section id="greedy-in-everyday-life" class="slide level2">
<h2>Greedy in Everyday Life</h2>
<p><span class="highlight">You already use greedy thinking daily!</span></p>
<div class="fragment">
<p><strong>Common Greedy Decisions:</strong></p>
<ul>
<li class="fragment"><strong>Making change:</strong> Give the largest coin first (€2 → €1 → €0.50…)</li>
<li class="fragment"><strong>Grocery shopping:</strong> Pick items with best price/value ratio</li>
<li class="fragment"><strong>Route planning:</strong> Take the nearest unvisited landmark</li>
<li class="fragment"><strong>Packing a suitcase:</strong> Put largest items in first</li>
<li class="fragment"><strong>Reading emails:</strong> Answer quick replies first, defer complex ones</li>
</ul>
</div>
<div class="fragment">
<p><span class="question">Question</span>: Which of these actually gives the optimal solution?</p>
</div>
</section>
<section id="when-greedy-works-vs.-fails" class="slide level2">
<h2>When Greedy Works vs.&nbsp;Fails</h2>
<p><span class="highlight">Not all greedy algorithms are optimal</span></p>
<div class="fragment">
<p><strong>Greedy IS Optimal:</strong></p>
<ul>
<li class="fragment">Kruskal’s algorithms (minimum spanning tree)</li>
<li class="fragment">SPT scheduling (minimizes average flow time)</li>
<li class="fragment">EDD scheduling (minimizes maximum lateness)</li>
</ul>
</div>
<div class="fragment">
<p><strong>Greedy FAILS:</strong></p>
<ul>
<li class="fragment">Traveling salesman problem (nearest neighbor is worse)</li>
<li class="fragment">0/1 Knapsack (greedy by value/weight ratio fails)</li>
</ul>
</div>
</section>
<section id="the-two-key-properties" class="slide level2">
<h2>The Two Key Properties</h2>
<p><span class="highlight">For greedy to be optimal, we need:</span></p>
<div class="fragment">
<p><strong>1. Greedy Choice Property</strong></p>
<ul>
<li>Locally optimal choice leads to globally optimal solution</li>
<li>Can make choice without considering future consequences</li>
</ul>
</div>
<div class="fragment">
<p><strong>2. Optimal Substructure</strong></p>
<ul>
<li>Optimal solution contains optimal solutions to subproblems</li>
<li>After making greedy choice, remaining problem is similar</li>
</ul>
</div>
</section>
<section id="complexity-why-greedy-is-fast" class="slide level2">
<h2>Complexity: Why Greedy is Fast</h2>
<div id="14dc741f" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lec_06_greedy_algorithms_files/figure-revealjs/cell-2-output-1.png" width="1139" height="419"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>For 16 bikes: Exhaustive = 20 trillion operations, Greedy = 64 operations!</p>
</div>
</div>
</div>
</div>
</section>
<section id="three-classic-scheduling-rules" class="slide level2">
<h2>Three Classic Scheduling Rules</h2>
<p><span class="highlight">We’ll explore three greedy approaches that manufacturing uses:</span></p>
<ol type="1">
<li class="fragment"><strong>FIFO (First In, First Out)</strong> - The fairness rule</li>
<li class="fragment"><strong>SPT (Shortest Processing Time)</strong> - The efficiency rule</li>
<li class="fragment"><strong>EDD (Earliest Due Date)</strong> - The deadline rule</li>
</ol>
<div class="fragment">
<p><span class="question">Question</span>: Just as first feeling. Which rule would you use for the bike factory with penalties and overtime costs?</p>
</div>
</section>
<section id="rule-1-fifo-first-in-first-out" class="slide level2">
<h2>Rule 1: FIFO (First In, First Out)</h2>
<p><span class="highlight">Process jobs in the order they arrive, no prioritization.</span></p>
<ul>
<li class="fragment"><strong>When it’s good:</strong> Ensures fairness and prevents “customer favoritism”</li>
<li class="fragment"><strong>When it’s optimal:</strong> When all jobs have equal importance and no deadlines</li>
<li class="fragment"><strong>Real-world use:</strong> Bank queues, ticket counters, help desk systems</li>
</ul>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Like scheduling job interviews when all candidates applied at different times: You interview in application order to be fair, even if some candidates are stronger.</p>
</div>
</div>
</div>
</div>
</section>
<section id="example-hospital-check-in" class="slide level2">
<h2>Example: Hospital Check-In</h2>
<div id="348c7e7b" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lec_06_greedy_algorithms_files/figure-revealjs/cell-3-output-1.png" width="1139" height="417"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>See the pattern? We just do patient A, then patient B, then patient C, then patient D.</p>
</div>
</div>
</div>
</div>
</section>
<section id="spt-shortest-processing-time" class="slide level2">
<h2>2: SPT (Shortest Processing Time)</h2>
<p><span class="highlight">The Idea: Process quickest job next to maximize throughput.</span></p>
<ul>
<li class="fragment"><strong>When it’s good:</strong> Minimizes average waiting time for customers</li>
<li class="fragment"><strong>When it’s optimal:</strong> <span class="highlight">Proven optimal</span> for minimizing mean completion time</li>
<li class="fragment"><strong>Real-world use:</strong> Express checkout lanes, quick service repairs, email triage</li>
</ul>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Like answering emails: Respond to quick 1-minute replies first, then tackle the complex ones requiring research so more people get helped faster.</p>
</div>
</div>
</div>
</div>
</section>
<section id="example-coffee-shop-orders" class="slide level2">
<h2>Example: Coffee Shop Orders</h2>
<div id="1695e111" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lec_06_greedy_algorithms_files/figure-revealjs/cell-4-output-1.png" width="1140" height="417"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>However, not all customers might be willing to wait longer for their orders!</p>
</div>
</div>
</div>
</div>
</section>
<section id="rule-3-edd-earliest-due-date" class="slide level2">
<h2>Rule 3: EDD (Earliest Due Date)</h2>
<p><span class="highlight">The Idea: Jobs by deadline order to tackle urgent work first.</span></p>
<ul>
<li class="fragment"><strong>When it’s good:</strong> Minimizes number of late jobs (tardiness)</li>
<li class="fragment"><strong>When it’s optimal:</strong> <span class="highlight">Proven optimal</span> for minimizing maximum lateness</li>
<li class="fragment"><strong>Real-world use:</strong> Project deadlines, delivery logistics, exam grading</li>
</ul>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Like grading assignments: Grade the papers due back tomorrow before the ones due next week so students get feedback when promised.</p>
</div>
</div>
</div>
</div>
</section>
<section id="example-package-delivery" class="slide level2">
<h2>Example: Package Delivery</h2>
<div id="d0bd3a66" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lec_06_greedy_algorithms_files/figure-revealjs/cell-5-output-1.png" width="1140" height="417"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Note, that we only minimize maximal lateness here!</p>
</div>
</div>
</div>
</div>
</section>
<section id="implementing-spt-in-python-i" class="slide level2">
<h2>Implementing SPT in Python I</h2>
<p><span class="highlight">Let’s code it together - it’s remarkably simple!</span></p>
<p>Let’s assume we want to make some pizzas under deadlines.</p>
<div id="f2383595" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a><span class="co"># Pizza data</span></span>
<span id="cb1-2"><a></a>pizzas <span class="op">=</span> [</span>
<span id="cb1-3"><a></a>    {<span class="st">'id'</span>: <span class="st">'P1'</span>, <span class="st">'time'</span>: <span class="dv">10</span>, <span class="st">'due'</span>: <span class="dv">20</span>},</span>
<span id="cb1-4"><a></a>    {<span class="st">'id'</span>: <span class="st">'P2'</span>, <span class="st">'time'</span>: <span class="dv">8</span>, <span class="st">'due'</span>: <span class="dv">15</span>},</span>
<span id="cb1-5"><a></a>    {<span class="st">'id'</span>: <span class="st">'P3'</span>, <span class="st">'time'</span>: <span class="dv">6</span>, <span class="st">'due'</span>: <span class="dv">25</span>},</span>
<span id="cb1-6"><a></a>    {<span class="st">'id'</span>: <span class="st">'P4'</span>, <span class="st">'time'</span>: <span class="dv">15</span>, <span class="st">'due'</span>: <span class="dv">20</span>},</span>
<span id="cb1-7"><a></a>    {<span class="st">'id'</span>: <span class="st">'P5'</span>, <span class="st">'time'</span>: <span class="dv">12</span>, <span class="st">'due'</span>: <span class="dv">30</span>},</span>
<span id="cb1-8"><a></a>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="fragment">
<p><span class="question">Question:</span> How should we proceed for SPT?</p>
</div>
</section>
<section id="implementing-spt-in-python-ii" class="slide level2">
<h2>Implementing SPT in Python II</h2>
<div id="7e6c0fd1" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="co"># SPT Rule: Sort by processing time</span></span>
<span id="cb2-2"><a></a>spt_order <span class="op">=</span> <span class="bu">sorted</span>(pizzas, key<span class="op">=</span><span class="kw">lambda</span> p: p[<span class="st">'time'</span>])</span>
<span id="cb2-3"><a></a></span>
<span id="cb2-4"><a></a><span class="bu">print</span>(<span class="st">"SPT Schedule:"</span>)</span>
<span id="cb2-5"><a></a>current_time <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-6"><a></a><span class="cf">for</span> pizza <span class="kw">in</span> spt_order:</span>
<span id="cb2-7"><a></a>    current_time <span class="op">+=</span> pizza[<span class="st">'time'</span>]</span>
<span id="cb2-8"><a></a>    <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>pizza[<span class="st">'id'</span>]<span class="sc">}</span><span class="ss">: due </span><span class="sc">{</span>pizza[<span class="st">'due'</span>]<span class="sc">}</span><span class="ss">, done </span><span class="sc">{</span>current_time<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment" data-execution_count="6">
<div class="cell-output cell-output-stdout">
<pre><code>SPT Schedule:
  P3: due 25, done 6
  P2: due 15, done 14
  P1: due 20, done 24
  P5: due 30, done 36
  P4: due 20, done 51</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Easy, right? Just <strong>one line of Python!</strong> <code>sorted()</code> with a key function. Greedy algorithms are often simple to implement.</p>
</div>
</div>
</div>
</div>
</section>
<section id="implementing-edd-in-python" class="slide level2">
<h2>Implementing EDD in Python</h2>
<p><span class="highlight">EDD is just as simple - change the sorting key!</span></p>
<div id="4d477aa1" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a><span class="co"># EDD Rule: Sort by due date</span></span>
<span id="cb4-2"><a></a>edd_order <span class="op">=</span> <span class="bu">sorted</span>(pizzas, key<span class="op">=</span><span class="kw">lambda</span> p: p[<span class="st">'due'</span>])</span>
<span id="cb4-3"><a></a></span>
<span id="cb4-4"><a></a><span class="bu">print</span>(<span class="st">"EDD Schedule:"</span>)</span>
<span id="cb4-5"><a></a>current_time <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-6"><a></a><span class="cf">for</span> pizza <span class="kw">in</span> edd_order:</span>
<span id="cb4-7"><a></a>    current_time <span class="op">+=</span> pizza[<span class="st">'time'</span>]</span>
<span id="cb4-8"><a></a>    <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>pizza[<span class="st">'id'</span>]<span class="sc">}</span><span class="ss">: due </span><span class="sc">{</span>pizza[<span class="st">'due'</span>]<span class="sc">}</span><span class="ss">, done </span><span class="sc">{</span>current_time<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment" data-execution_count="7">
<div class="cell-output cell-output-stdout">
<pre><code>EDD Schedule:
  P2: due 15, done 8
  P1: due 20, done 18
  P4: due 20, done 33
  P3: due 25, done 39
  P5: due 30, done 51</code></pre>
</div>
</div>
<div class="fragment">
<p><span class="question">Question</span>: Can you modify this to implement FIFO?</p>
</div>
</section>
<section id="comparing-all-three" class="slide level2">
<h2>Comparing All Three</h2>
<p><span class="highlight">Now let’s compare all three rules on the same dataset</span></p>
<div class="fragment">
<p><strong>Scenario:</strong> 4 rush bike orders arrive with conflicting priorities</p>
</div>
<div class="fragment">
<table class="caption-top">
<thead>
<tr class="header">
<th>Order</th>
<th>Arrival</th>
<th>Processing</th>
<th>Due</th>
<th>Penalty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>B12</td>
<td>1st</td>
<td>90 min</td>
<td>180 min</td>
<td>€150</td>
</tr>
<tr class="even">
<td>B08</td>
<td>2nd</td>
<td>45 min</td>
<td>280 min</td>
<td>€150</td>
</tr>
<tr class="odd">
<td>B15</td>
<td>3rd</td>
<td>75 min</td>
<td>220 min</td>
<td>€150</td>
</tr>
<tr class="even">
<td>B03</td>
<td>4th</td>
<td>30 min</td>
<td>300 min</td>
<td>€150</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p><span class="question">Question:</span> How would we schedule for each rule?</p>
</div>
</section>
<section id="all-schedules-compared" class="slide level2">
<h2>All Schedules Compared</h2>
<div id="43215f4a" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lec_06_greedy_algorithms_files/figure-revealjs/cell-9-output-1.png" width="1139" height="417"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p><strong>No single rule is always best!</strong> The right choice depends on your objectives, which might include fairness, throughput, deadlines and much more.</p>
</div>
</div>
</div>
</div>
</section>
<section id="hybrid-scheduling-strategies" class="slide level2">
<h2>Hybrid Scheduling Strategies</h2>
<p><strong>1. Priority Classes:</strong></p>
<pre><code>IF order.type == "Rush":
    schedule using EDD
ELSE:
    schedule using SPT</code></pre>
<div class="fragment">
<p><strong>2. Time-Based Switching:</strong></p>
<pre><code>IF current_time &lt; 3pm:
    use SPT (maximize throughput)
ELSE:
    use EDD (meet end-of-day deadlines)</code></pre>
</div>
<div class="fragment">
<p><strong>3. Threshold Rules:</strong></p>
<pre><code>IF (due_date - current_time) &lt; 30 minutes:
    prioritize this order (emergency mode)
ELSE:
    use normal SPT rule</code></pre>
</div>
</section>
<section id="key-takeaways" class="slide level2">
<h2>Key Takeaways</h2>
<ul>
<li class="fragment"><strong>FIFO:</strong> Simple and fair, but ignores job characteristics</li>
<li class="fragment"><strong>SPT:</strong> Minimizes average completion time</li>
<li class="fragment"><strong>EDD:</strong> Minimizes maximum lateness</li>
</ul>
<div class="fragment">
<p><span class="question">Question</span>: Any questions up until here?</p>
</div>
</section></section>
<section>
<section id="applications" class="title-slide slide level1 title center">
<h1><span class="flow">Applications</span></h1>

</section>
<section id="professional-applications-i" class="slide level2">
<h2>Professional Applications I</h2>
<p><span class="highlight">Where scheduling algorithms appear in practice</span></p>
<div class="fragment">
<p><strong>Project Management:</strong></p>
<ul>
<li>Task dependencies and precedence constraints</li>
<li>Resource allocation across teams</li>
</ul>
</div>
<div class="fragment">
<p><strong>Software Development:</strong></p>
<ul>
<li>CPU process scheduling (operating systems)</li>
<li>Thread management and concurrency</li>
</ul>
</div>
</section>
<section id="professional-applications-ii" class="slide level2">
<h2>Professional Applications II</h2>
<p><strong>Operations &amp; Manufacturing:</strong></p>
<ul>
<li>Production line scheduling and supply chain optimization</li>
<li>Warehouse picking routes and maintenance scheduling</li>
</ul>
<div class="fragment">
<p><strong>Transportation &amp; Logistics:</strong></p>
<ul>
<li>Vehicle routing problems</li>
<li>Crew scheduling and maintenance window planning</li>
</ul>
</div>
<div class="fragment">
<p><strong>Healthcare:</strong></p>
<ul>
<li>Patient appointment scheduling and staff shift scheduling</li>
</ul>
</div>
</section></section>
<section>
<section id="performance-metrics" class="title-slide slide level1 title center">
<h1><span class="flow">Performance Metrics</span></h1>

</section>
<section id="metric-definitions" class="slide level2">
<h2>Metric Definitions</h2>
<p><span class="highlight">If we formalize these:</span></p>
<ul>
<li class="fragment"><strong>Completion Time (<span class="math inline">\(C_i\)</span>):</strong> When job <span class="math inline">\(i\)</span> finishes</li>
<li class="fragment"><strong>Flow Time (<span class="math inline">\(F_i\)</span>):</strong> Time job spends in system = <span class="math inline">\(C_i - \text{arrival}_i\)</span></li>
<li class="fragment"><strong>Lateness (<span class="math inline">\(L_i\)</span>):</strong> <span class="math inline">\(C_i - \text{due}_i\)</span> (can be negative = early)</li>
<li class="fragment"><strong>Tardiness (<span class="math inline">\(T_i\)</span>):</strong> <span class="math inline">\(\max(0, L_i)\)</span> (only counts late jobs)</li>
</ul>
</section>
<section id="aggregate-metric-definitions" class="slide level2">
<h2>Aggregate Metric Definitions</h2>
<p><span class="highlight">If we look at several of these:</span></p>
<ul>
<li class="fragment"><strong>Makespan (<span class="math inline">\(C_{\max}\)</span>):</strong> <span class="math inline">\(\max(C_i)\)</span> - when all jobs done</li>
<li class="fragment"><strong>Average Flow Time:</strong> <span class="math inline">\(\sum F_i / n\)</span></li>
<li class="fragment"><strong>Total Tardiness:</strong> <span class="math inline">\(\sum T_i\)</span></li>
<li class="fragment"><strong>Maximum Lateness:</strong> <span class="math inline">\(\max(L_i)\)</span></li>
</ul>
<div class="fragment">
<p><span class="question">Question:</span> In which context would you use each metric?</p>
</div>
</section>
<section id="why-metrics-matter" class="slide level2">
<h2>Why Metrics Matter</h2>
<p><span class="highlight">Different objectives require different metrics</span></p>
<div class="fragment">
<p><strong>Business Context Matters:</strong></p>
<ul>
<li class="fragment"><strong>Manufacturing:</strong> Minimize total production time (makespan)</li>
<li class="fragment"><strong>Service:</strong> Minimize average customer wait (flow time)</li>
<li class="fragment"><strong>Delivery:</strong> Minimize late deliveries (tardiness)</li>
<li class="fragment"><strong>Contracts:</strong> Minimize worst-case lateness (maximum lateness)</li>
<li class="fragment"><strong>Customer satisfaction:</strong> Minimize number of late jobs</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>You can’t optimize what you don’t measure! Choose metrics that align with business goals.</p>
</div>
</div>
</div>
</div>
</section>
<section id="which-metric-when" class="slide level2">
<h2>Which Metric When?</h2>
<p><span class="highlight">Matching metrics to business context</span></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Business Goal</th>
<th>Metric to Optimize</th>
<th>Best Rule</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Reduce customer wait time</td>
<td>Avg Flow Time</td>
<td><strong>SPT</strong></td>
</tr>
<tr class="even">
<td>Meet all deadlines</td>
<td>Max Lateness</td>
<td><strong>EDD</strong></td>
</tr>
<tr class="odd">
<td>Minimize contract penalties</td>
<td>Total Tardiness</td>
<td><strong>EDD</strong></td>
</tr>
<tr class="even">
<td>Maximize throughput</td>
<td>Makespan</td>
<td>Any (same!)</td>
</tr>
<tr class="odd">
<td>Customer satisfaction</td>
<td>Number Late</td>
<td><strong>EDD</strong></td>
</tr>
<tr class="even">
<td>Fairness/transparency</td>
<td>(none)</td>
<td><strong>FIFO</strong></td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="weighted-scheduling" class="title-slide slide level1 title center">
<h1><span class="flow">Weighted Scheduling</span></h1>

</section>
<section id="revenue-based-consulting-firm" class="slide level2">
<h2>Revenue-Based: Consulting Firm</h2>
<p><span class="highlight">5 consulting projects with different durations and revenues</span></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Project</th>
<th>Duration</th>
<th>Revenue</th>
<th>Revenue/Hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>C</td>
<td>55h</td>
<td>€11,000</td>
<td>€200</td>
</tr>
<tr class="even">
<td>A</td>
<td>25h</td>
<td>€6,000</td>
<td>€240</td>
</tr>
<tr class="odd">
<td>E</td>
<td>55h</td>
<td>€4,950</td>
<td>€90</td>
</tr>
<tr class="even">
<td>D</td>
<td>45h</td>
<td>€5,400</td>
<td>€120</td>
</tr>
<tr class="odd">
<td>B</td>
<td>35h</td>
<td>€7,000</td>
<td>€200</td>
</tr>
</tbody>
</table>
<div class="fragment">
<p><strong>Goal: Maximize revenue during limited consulting time</strong></p>
</div>
<div class="fragment">
<p><span class="question">Question:</span> <strong>Sort by total revenue? Duration? Or something else?</strong></p>
</div>
</section>
<section id="revenuehour-rule" class="slide level2">
<h2>Revenue/Hour Rule</h2>
<p><span class="highlight">Rule: Sort by revenue per hour (descending)</span></p>
<div class="fragment">
<p><strong>Sorted by Revenue/Hour:</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Project</th>
<th>Duration</th>
<th>Revenue</th>
<th>Revenue/Hour</th>
<th>Schedule</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>25h</td>
<td>€6,000</td>
<td><strong>€240</strong></td>
<td>1st</td>
</tr>
<tr class="even">
<td>B</td>
<td>35h</td>
<td>€7,000</td>
<td><strong>€200</strong></td>
<td>2nd</td>
</tr>
<tr class="odd">
<td>C</td>
<td>55h</td>
<td>€11,000</td>
<td><strong>€200</strong></td>
<td>3rd</td>
</tr>
<tr class="even">
<td>D</td>
<td>45h</td>
<td>€5,400</td>
<td>€120</td>
<td>4th</td>
</tr>
<tr class="odd">
<td>E</td>
<td>55h</td>
<td>€4,950</td>
<td>€90</td>
<td>5th</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p><strong>Optimal order: A → B → C → D → E</strong></p>
</div>
</section>
<section id="why-revenuehour-works" class="slide level2">
<h2>Why Revenue/Hour Works</h2>
<p><span class="highlight">Maximizing early revenue in capacity-constrained situations</span></p>
<div class="fragment">
<p><strong>Scenario: 120 hours of consulting capacity this quarter</strong></p>
<ul>
<li class="fragment"><strong>Revenue/hour approach:</strong> A+B+C = 115h → <strong>€24,000 revenue</strong></li>
<li class="fragment"><strong>Wrong order (E+D+C):</strong> E+D+C = 155h → Doesn’t fit!</li>
<li class="fragment"><strong>Only E+D = 100h</strong> → <strong>€10,350 revenue</strong></li>
<li class="fragment"><strong>Worst case:</strong> Start with low-revenue/hour projects, waste capacity</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>This is <span class="highlight">Smith’s Rule</span> in action: Sort by (value / time) to maximize weighted completion!</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="two-stage-scheduling" class="title-slide slide level1 title center">
<h1><span class="flow">Two-Stage Scheduling</span></h1>

</section>
<section id="the-real-challenge-flow-shops" class="slide level2">
<h2>The Real Challenge: Flow Shops</h2>
<p><span class="highlight">Most manufacturing involves multiple stages</span></p>
<div class="fragment">
<p><strong>Flow Shop:</strong> Jobs must visit machines in the <strong>same order</strong></p>
<ul>
<li class="fragment">Car manufacturing: Welding → Painting → Assembly</li>
<li class="fragment">Bicycle factory: Assembly → Painting</li>
<li class="fragment">Electronics: Circuit board → Component placement → Testing</li>
<li class="fragment">Restaurant: Cooking → Plating → Service</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p><strong>Key difference from single-machine:</strong> Machine 2 must wait for Machine 1 to finish each job. This creates <strong>idle time</strong> and <strong>blocking</strong>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="two-stage-example-setup" class="slide level2">
<h2>Two-Stage Example Setup</h2>
<p><span class="highlight">3 Bicycles through Assembly → Painting</span></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Bike</th>
<th>Assembly Time</th>
<th>Painting Time</th>
<th>Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>X</td>
<td>30 min</td>
<td>20 min</td>
<td>50</td>
</tr>
<tr class="even">
<td>Y</td>
<td>20 min</td>
<td>30 min</td>
<td>50</td>
</tr>
<tr class="odd">
<td>Z</td>
<td>15 min</td>
<td>15 min</td>
<td>30</td>
</tr>
</tbody>
</table>
<div class="fragment">
<p><span class="question">Question</span>: If we process in order X → Y → Z, what happens?</p>
</div>
</section>
<section id="fifo-x-y-z" class="slide level2">
<h2>FIFO: X → Y → Z</h2>
<div id="fd4abb37" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lec_06_greedy_algorithms_files/figure-revealjs/cell-10-output-1.png" width="1139" height="417"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Painting station waits 30 minutes for first bike! Total time = <strong>95 minutes</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="why-simple-rules-struggle" class="slide level2">
<h2>Why Simple Rules Struggle</h2>
<p><span class="highlight">Each rule has ambiguities in two-stage problems</span></p>
<div class="fragment">
<p><strong>SPT - Shortest Processing Time:</strong></p>
<ul>
<li>Sort by assembly time? → Favors Z (15 min)</li>
<li>Sort by painting time? → Favors X (20 min)</li>
<li>Sort by total time? → All tied (50, 50, 30)</li>
</ul>
</div>
<div class="fragment">
<p><strong>EDD - Earliest Due Date:</strong> Doesn’t minimize idle time or makespan</p>
</div>
<div class="fragment">
<p><strong>FIFO:</strong> Arbitrary order, no optimization</p>
</div>
<div class="fragment">
<p><span class="question">Question</span>: Is there a better approach for minimizing makespan?</p>
</div>
</section>
<section id="johnsons-algorithm-the-intuition" class="slide level2">
<h2>Johnson’s Algorithm: The Intuition</h2>
<div class="fragment">
<p><span class="highlight">Why does Johnson’s work? Let’s understand the logic first</span></p>
</div>
<div class="fragment">
<p><strong>Think about bottlenecks in a two-stage flow:</strong></p>
<ul>
<li class="fragment"><strong>Machine 2</strong> sits idle waiting for Machine 1 to finish</li>
<li class="fragment"><strong>Goal:</strong> Minimize that idle time</li>
</ul>
</div>
<div class="fragment">
<p><strong>Key Observation:</strong></p>
<ul>
<li class="fragment">If a job is <strong>quick on Machine 1</strong> → Do it <strong>early</strong> (Machine 1 finishes fast, Machine 2 starts sooner!)</li>
<li class="fragment">If a job is <strong>quick on Machine 2</strong> → Do it <strong>late</strong> (Machine 2 can finish quickly at the end, no wasted capacity)</li>
</ul>
</div>
</section>
<section id="johnsons-algorithm-the-rule" class="slide level2">
<h2>Johnson’s Algorithm: The Rule</h2>
<p><span class="highlight">Four simple steps to optimal scheduling</span></p>
<div class="fragment">
<ol type="1">
<li class="fragment"><strong>Find minimum time</strong> across both machines for all remaining jobs</li>
<li class="fragment"><strong>If minimum is on M1:</strong> Schedule this job at <strong>earliest</strong> open position</li>
<li class="fragment"><strong>If minimum is on M2:</strong> Schedule this job at <strong>latest</strong> open position</li>
<li class="fragment"><strong>Repeat</strong> until all jobs scheduled</li>
</ol>
</div>
<div class="fragment">
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Johnson proved this <strong>greedy choice property</strong> guarantees global optimum for makespan in 2-machine flow shops!</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<p><span class="highlight">Let’s apply this to our 3 bikes…</span></p>
</div>
</section>
<section id="applying-johnsons-algorithm" class="slide level2">
<h2>Applying Johnson’s Algorithm</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Bike</th>
<th>Assembly</th>
<th>Painting</th>
<th>Min Time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>X</td>
<td>30</td>
<td>20</td>
<td>20 (P)</td>
</tr>
<tr class="even">
<td>Y</td>
<td>20</td>
<td>30</td>
<td>20 (A)</td>
</tr>
<tr class="odd">
<td>Z</td>
<td>15</td>
<td>15</td>
<td>15 (A/P)</td>
</tr>
</tbody>
</table>
<ol type="1">
<li class="fragment">Min time = 15 (Z, assembly) → <strong>Schedule Z first</strong></li>
<li class="fragment">Min time = 20 (Y, assembly) → <strong>Schedule Y second</strong></li>
<li class="fragment">Min time = 20 (X, painting) → <strong>Schedule X last</strong></li>
</ol>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Easy, right?</p>
</div>
</div>
</div>
</div>
</section>
<section id="johnsons-schedule-z-y-x" class="slide level2">
<h2>Johnson’s Schedule: Z → Y → X</h2>
<div id="665c1536" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lec_06_greedy_algorithms_files/figure-revealjs/cell-11-output-1.png" width="1139" height="417"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p><strong>10-minute improvement!</strong> (85 vs 95) - 10.5% faster with optimal ordering</p>
</div>
</div>
</div>
</div>
</section>
<section id="beyond-two-machines" class="slide level2">
<h2>Beyond Two Machines</h2>
<p><span class="highlight">What about 3+ machines?</span></p>
<div class="fragment">
<p><strong>Bad news:</strong></p>
<ul>
<li>3+ machine flow shop is <strong>NP-hard</strong></li>
<li>No polynomial optimal algorithm known</li>
</ul>
</div>
<div class="fragment">
<p><strong>Good news:</strong></p>
<ul>
<li>Heuristics work well in practice</li>
<li>Simulated annealing, genetic algorithms</li>
</ul>
</div>
</section></section>
<section>
<section id="advanced" class="title-slide slide level1 title center">
<h1><span class="flow">Advanced</span></h1>

</section>
<section id="dynamic-vs-static-scheduling" class="slide level2">
<h2>Dynamic vs Static Scheduling</h2>
<p><span class="highlight">How scheduling changes with job arrivals</span></p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Static (Offline):</strong></p>
<ul>
<li>All jobs known upfront</li>
<li>Schedule computed once</li>
<li>Can often use optimal algorithms</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Dynamic (Online):</strong></p>
<ul>
<li>Most real-world scenarios</li>
<li>Jobs arrive over time</li>
<li>Must make decisions without future knowledge</li>
</ul>
</div></div>
</div>
<div class="fragment">
<p><span class="question">Question:</span> Any ideas about complications in dynamic environments?</p>
</div>
<div class="fragment">
<p><span class="question">Question:</span> Any other <span class="highlight">real world</span> considerations?</p>
</div>
</section>
<section id="real-world-considerations" class="slide level2">
<h2>Real-World Considerations</h2>
<ul>
<li><strong>Setup Times:</strong>
<ul>
<li>Changing requires tool adjustments or cleaning</li>
<li>Sequence-dependent scheduling (TSP-like)</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><strong>Resource Constraints:</strong>
<ul>
<li>Limited ressources, specialized tools, material shortages</li>
<li>Worker skill levels and availability</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><strong>Uncertainty:</strong>
<ul>
<li>Processing times, break downs, and other unforeseen events</li>
</ul></li>
</ul>
</div>
</section>
<section id="common-scheduling-mistakes-i" class="slide level2">
<h2>Common Scheduling Mistakes I</h2>
<p><span class="highlight">Learn from others’ errors - avoid these pitfalls!</span></p>
<div class="fragment">
<p><span class="question">Question:</span> Any idea what could be common mistakes?</p>
</div>
<div class="fragment">
<p><strong>Mistake #1: Ignoring Setup Times</strong></p>
<ul>
<li class="fragment"><strong>Problem:</strong> Changing from between tasks requires adjustments</li>
<li class="fragment"><strong>Impact:</strong> Your “optimal” SPT schedule wastes 3 hours on setups</li>
<li class="fragment"><strong>Fix:</strong> Batch similar tasks together (hybrid rule: SPT within batches)</li>
</ul>
</div>
</section>
<section id="common-scheduling-mistakes-ii" class="slide level2">
<h2>Common Scheduling Mistakes II</h2>
<p><span class="highlight">Learn from others’ errors - avoid these pitfalls!</span></p>
<p><strong>Mistake #2: Static Scheduling with Dynamic Arrivals</strong></p>
<ul>
<li class="fragment"><strong>Problem:</strong> Using Johnson’s algorithm at 2 PM, never adjusting when urgent orders arrive at 4 PM</li>
<li class="fragment"><strong>Impact:</strong> New rush order sits idle while finishing low-priority work</li>
<li class="fragment"><strong>Fix:</strong> Re-optimize periodically or use priority thresholds</li>
</ul>
</section>
<section id="common-scheduling-mistakes-iii" class="slide level2">
<h2>Common Scheduling Mistakes III</h2>
<p><span class="highlight">Learn from others’ errors - avoid these pitfalls!</span></p>
<p><strong>Mistake #3: Optimizing the Wrong Metric</strong></p>
<ul>
<li class="fragment"><strong>Problem:</strong> Minimizing makespan when penalty costs dominate</li>
<li class="fragment"><strong>Impact:</strong> You “win” on time but lose €400 on penalties</li>
<li class="fragment"><strong>Fix:</strong> Always align algorithm choice with <strong>total cost function</strong></li>
</ul>
</section></section>
<section>
<section id="personal-schedules" class="title-slide slide level1 title center">
<h1><span class="flow">Personal Schedules</span></h1>

</section>
<section id="thrashing" class="slide level2">
<h2>Thrashing</h2>
<p><span class="highlight">When scheduling breaks down completely</span></p>
<div class="fragment">
<p><strong>What is Thrashing?</strong></p>
<ul>
<li>Excessive <strong>context switching</strong> between tasks</li>
<li>Organization overhead exceeds actual productivity</li>
<li><strong>Maximum activity, minimum output</strong></li>
</ul>
</div>
<div class="fragment">
<p><span class="question">Question:</span> Do you know this from your personally?</p>
</div>
</section>
<section id="thrashing-warning-signs" class="slide level2">
<h2>Thrashing Warning Signs</h2>
<p><span class="highlight">How to recognize when you’re thrashing</span></p>
<div class="fragment">
<p><strong>Individual Level:</strong></p>
<ul>
<li class="fragment">Constant task switching (&lt; 15 minutes per task)</li>
<li class="fragment">Nothing getting completed despite being “busy”</li>
<li class="fragment">Increasing stress and anxiety</li>
<li class="fragment">Declining quality of work</li>
<li class="fragment">Feeling overwhelmed despite working hard</li>
</ul>
</div>
</section>
<section id="preventing-thrashing" class="slide level2">
<h2>Preventing Thrashing</h2>
<p><span class="highlight">Strategic approaches to maintain productivity</span></p>
<div class="fragment">
<p><strong>Strategic Solutions:</strong></p>
<ol type="1">
<li class="fragment"><strong>Task rejection threshold:</strong> Say no to new tasks when queue exceeds capacity</li>
<li class="fragment"><strong>Minimum work periods:</strong> Minimum focus time per task</li>
<li class="fragment"><strong>Batching:</strong> Group similar tasks (all emails at once, all calls at once)</li>
<li class="fragment"><strong>Buffer times:</strong> Schedule gaps between major tasks</li>
<li class="fragment"><strong>Reduced reactivity:</strong> Check email at set times, not constantly</li>
</ol>
</div>
</section></section>
<section>
<section id="todays-tasks" class="title-slide slide level1 title center">
<h1><span class="flow">Today’s Tasks</span></h1>

</section>
<section id="today" class="slide level2">
<h2>Today</h2>
<div class="columns">
<div class="column" style="width:33%;">
<p><strong>Hour 2: This Lecture</strong></p>
<ul>
<li>Greedy algorithms</li>
<li>FIFO, SPT, EDD rules</li>
<li>Trade-offs</li>
<li>Gantt charts</li>
</ul>
</div><div class="column" style="width:33%;">
<p><strong>Hour 3: Notebook</strong></p>
<ul>
<li>Bean Counter CEO</li>
<li>Implement rules</li>
<li>Visualizations</li>
<li>Analyze orders</li>
</ul>
</div><div class="column" style="width:33%;">
<p><strong>Hour 4: Competition</strong></p>
<ul>
<li>Bike Factory Crisis</li>
<li>16 bicycle orders</li>
<li>Two-stage process</li>
<li>Minimize total costs!</li>
</ul>
</div></div>
</section>
<section id="the-competition-challenge" class="slide level2">
<h2>The Competition Challenge</h2>
<p><span class="highlight">The Bike Factory Crisis</span></p>
<div class="fragment">
<ol type="1">
<li><strong>Schedule</strong> 16 custom bicycle orders across 2 workstations</li>
<li><strong>Optimize</strong> Assembly → Painting workflow</li>
<li><strong>Balance</strong> overtime costs vs.&nbsp;late delivery penalties</li>
<li><strong>Minimize</strong> total cost (overtime + penalties)</li>
</ol>
</div>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Choose the right trade-off for the business context!</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="key-takeaways-1" class="title-slide slide level1 title center">
<h1><span class="flow">Key Takeaways</span></h1>

</section>
<section id="remember-this" class="slide level2">
<h2>Remember This!</h2>
<p><span class="highlight">The Rules of Greedy Scheduling</span></p>
<ol type="1">
<li class="fragment"><strong>Know your objective</strong> - Fairness, speed, or deadlines?</li>
<li class="fragment"><strong>FIFO for fairness</strong> - Simple, transparent, no favoritism</li>
<li class="fragment"><strong>SPT for throughput</strong> - Minimizes average completion time</li>
<li class="fragment"><strong>EDD for deadlines</strong> - Minimizes maximum lateness</li>
<li class="fragment"><strong>No single winner</strong> - Each rule optimizes different metrics</li>
<li class="fragment"><strong>Context matters</strong> - Match the rule to your business goal</li>
<li class="fragment"><strong>Two-stage is harder</strong> - Assembly → Painting adds complexity</li>
</ol>
</section>
<section id="final-thought" class="slide level2">
<h2>Final Thought</h2>
<p><span class="highlight">Greedy algorithms are about smart trade-offs</span></p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>The Advantage:</strong></p>
<ul>
<li>Fast O(n log n)</li>
<li>Easy to implement</li>
<li>Explainable decisions</li>
<li>Often near-optimal</li>
<li>Practical for real-time</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>The Challenge:</strong></p>
<ul>
<li>No global optimality guarantee</li>
<li>Different rules, different results</li>
<li>Three-stage problems are complex</li>
<li>May need hybrid approaches</li>
</ul>
</div></div>
</div>
</section>
<section id="break" class="slide level2">
<h2>Break!</h2>
<p><span class="highlight">Take 20 minutes, then we start the practice notebook</span></p>
<p><strong>Next up:</strong> You’ll become Bean Counter’s scheduler</p>
<p><strong>Then:</strong> The Bike Factory Crisis competition</p>


</section></section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>Smart Quick Decisions | Dr.&nbsp;Tobias Vlćek | <a href="../lectures/lec_06_greedy_algorithms.html">Home</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'fast',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1200,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/beyondsimulations\.github\.io\/Management-Science");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>